:root {
  --bg: #111;
  --panel: #1b1b1b;
  --text: #f2f2f2;
  --muted: #a1a1a1;
  --accent: #6bd1ff;
  --orange: #ff8c42;
  --black: #444;
  --sq-light: #ebecd0;
  --sq-dark: #baca44;
  --sq-hint: rgba(107, 209, 255, 0.35);
  --sq-legal: rgba(107, 209, 255, 0.6);
  --sq-last: rgba(255, 190, 0, 0.4);
  --danger: #ff6464;
  --ok: #79d38d;
}
* { box-sizing: border-box; }
html, body { margin: 0; height: 100%; background: var(--bg); color: var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
a { color: var(--accent); }
.wrap { display: grid; grid-template-columns: 340px 1fr; gap: 20px; padding: 20px; height: 100%; }
.panel { background: var(--panel); border-radius: 16px; padding: 16px; box-shadow: 0 10px 30px rgba(0,0,0,.35); }
h1 { margin: 0 0 12px; font-size: 20px; font-weight: 600; letter-spacing: .2px; }
.row { display: flex; gap: 8px; align-items: center; margin-bottom: 10px; flex-wrap: wrap; }
.row input[type=text] { flex: 1 1 160px; padding: 10px 12px; border-radius: 10px; border: 1px solid #2b2b2b; background: #0f0f0f; color: var(--text); outline: none; }
.btn { appearance: none; border: 0; background: #262626; color: var(--text); padding: 10px 14px; border-radius: 12px; cursor: pointer; font-weight: 600; }
.btn:hover { filter: brightness(1.15); }
.btn.primary { background: var(--accent); color: #002233; }
.btn.warn { background: var(--danger); }
.btn.ok { background: var(--ok); color: #002b14; }
.hint { color: var(--muted); font-size: 12px; }
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
.kv { display: grid; grid-template-columns: 110px 1fr; gap: 6px 12px; margin-top: 8px; }
.kv div { color: var(--muted); font-size: 12px; }
.kv span { color: var(--text); font-size: 13px; }
.board-wrap { display: grid; place-items: center; }
.board { width: min(90vmin, 800px); height: min(90vmin, 800px); display: grid; grid-template-columns: repeat(10, 1fr); grid-template-rows: repeat(10, 1fr); border-radius: 16px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,.45); position: relative; }
.sq { display: grid; place-items: center; font-weight: 700; user-select: none; position: relative; }
.sq::after { content: ""; position: absolute; inset: 4px; border-radius: 10px; pointer-events: none; }
.sq.light { background: var(--sq-light); color: #222; }
.sq.dark { background: var(--sq-dark); color: #111; }
.sq.hint::after { background: var(--sq-hint); }
.sq.legal::after { background: var(--sq-legal); }
.sq.last::after { background: var(--sq-last); }
.piece { width: 82%; height: 82%; border-radius: 14px; display: grid; place-items: center; text-align: center; padding: 6px; cursor: grab; box-shadow: 0 6px 16px rgba(0,0,0,.35); font-size: clamp(10px, 2.1vmin, 18px); }
.piece.orange { background: linear-gradient(145deg, #ffaf6b, #ff8c42); color: #341a00; }
.piece.black { background: linear-gradient(145deg, #666, #333); color: #eee; }
.pill { display: inline-block; padding: 6px 10px; border-radius: 999px; background: #1f1f1f; font-size: 12px; }
.status { margin-top: 10px; padding: 10px; border-radius: 12px; background: #121212; font-size: 13px; min-height: 36px; }
.row .pill { margin-right: 6px; }
.sep { height: 1px; background: #2a2a2a; margin: 14px 0; }
.bad { color: var(--danger); }
.good { color: var(--ok); }
